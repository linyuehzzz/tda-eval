ppv <- ggplot(data = uni.data, aes(x=plb, y=risk.value, fill=county)) +
geom_line(color = "steelblue", size = 1) +
geom_point(color="steelblue") +
labs(y = "Percentage in Non-zeros (%)", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
geom_text(aes(label=pct.uniques), position = position_dodge(0.9),
vjust = 1.2, color = "grey20", size=2.5) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
View(data.ppv)
ppv <- ggplot(data = uni.data, aes(x=plb, y=risk.value, fill=county)) +
geom_line(color = "steelblue", size = 1) +
geom_point(color="steelblue") +
labs(y = "Percentage in Non-zeros (%)", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
geom_line(color = "steelblue", size = 1) +
geom_point(color="steelblue") +
labs(y = "Percentage in Non-zeros (%)", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
geom_line(size = 0.5) +
scale_color_manual(values=c("#CC6666", "#9999CC"))+
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
geom_line(size=0.5, color=county) +
scale_color_manual(values=c("#CC6666", "#9999CC"))+
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
geom_line(size=0.5, col=county) +
scale_color_manual(values=c("#CC6666", "#9999CC"))+
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
scale_x_continuous(trans='log2') +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
scale_x_continuous(trans='log10') +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
#########
options(scipen=999)
ppv <- ggplot(data = data.ppv, aes(x=plb, y=risk.value, fill=county)) +
scale_x_continuous(trans='log10') +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = function(x){return(paste0("10^", x))}) +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = function(x){return(paste0("10^", x))}) +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw(axis.text.x = element_markdown())
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(scale_x_continuous(labels = label_math())) +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw(axis.text.x = element_markdown())
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw(axis.text.x = element_markdown())
library(scales)
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw(axis.text.x = element_markdown())
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(color="steelblue") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(3, 16)) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(16, 17)) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_brewer() +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_fill_grey() +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_grey() +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_hue() +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_hue("clarity") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county), alpha = 0.5) +
scale_shape_manual(values=c(17, 19)) +
scale_colour_hue("clarity") +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_fill_grey(start = 0.7, end = 0.9) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_grey(start = 0.7, end = 0.9) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_grey(start = 0.2, end = 0.5) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_grey(start = 0.2, end = 0.6) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(2, 19)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ggsave(ppv, file="ppv.eps", device="eps")
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 2)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
ppv
ggsave(ppv, file="ppv.eps", device="eps")
tpr <- ggplot(data = data.tpr, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
tpr
ggsave(tpr, file="tpr.eps", device="eps")
tpr <- ggplot(data = data.tpr, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "TPR", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw() +
xlim(0, 0.5)
tpr <- ggplot(data = data.tpr, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "TPR", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw() +
ylim(0, 0.5)
tpr
ggsave(tpr, file="tpr.eps", device="eps")
View(data.tpr)
tpr <- ggplot(data = data.tpr, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "TPR", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()
tpr
tpr <- ggplot(data = data.tpr, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "TPR", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw()+
ylim(0, 0.6)
tpr
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw() +
ylim(0, 0.6)
ppv
tpr <- ggplot(data = data.tpr, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "TPR", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw() +
ylim(0, 0.6)
tpr
ggsave(tpr, file="tpr.eps", device="eps")
ggsave(tpr, file="tpr.eps", device="eps")
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw() +
ylim(0, 0.6)
ppv
ggsave(ppv, file="ppv.eps", device="eps")
library(ggplot2)
library(dplyr)
options(scipen=999)
uni.data <- readr::read_csv("actual_uniques.csv")
#########
library(scales)
demo_continuous(c(1, 2, 3, 4), labels = label_math())
data.risks <- readr::read_csv("reid_risk_con.csv")
data.ppv <- data.risks[data.risks$risk.type == 'ppv',]
data.tpr <- data.risks[data.risks$risk.type == 'tpr',]
ppv <- ggplot(data = data.ppv, aes(x=log10(plb), y=risk.value, fill=county)) +
scale_x_continuous(labels = label_math()) +
geom_line(aes(linetype=county, color=county)) +
geom_point(aes(shape=county, color=county)) +
scale_shape_manual(values=c(19, 17)) +
scale_colour_grey(start = 0.2, end = 0.7) +
labs(y = "PPV", x = "") +
scale_fill_grey(start = 0.7, end = 0.9) +
facet_grid(aggregation.level ~ query.type) +
theme_bw() +
ylim(0, 0.6)
ppv
library(car)
library(MASS)
library(glmnet)
library(dplyr)
library(leaps)
options(scipen=999)
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
scaled.hist <- as.data.frame(scale(hist))
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
scaled.hist <- as.data.frame(scale(hist))
lm.fit1 = lm(diff ~ ., data=scaled.hist)
library(car)
library(MASS)
library(glmnet)
library(dplyr)
library(leaps)
options(scipen=999)
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
scaled.hist <- as.data.frame(scale(hist))
lm.fit1 = lm(diff ~ ., data=scaled.hist)
lm.fit1 = lm(total_true ~ ., data=scaled.hist)
summary(lm.fit1)
options(scipen=999)
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
options(scipen=999)
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
scaled.hist <- as.data.frame(scale(hist))
lm.fit1 = lm(total_true ~ ., data=scaled.hist)
summary(lm.fit1)
# stepwise
lm.both.aic = step(lm.fit1, direction="both")
View(hist)
lm.fit1 = lm(total_true ~ White + Black + AIAN + Asian + NHPI + `Other race alone`, data=scaled.hist)
summary(lm.fit1)
lm.fit1 = lm(total_true ~ White + Black + AIAN + Asian + NHPI + `Other race alone` + `Two or more races`, data=scaled.hist)
summary(lm.fit1)
View(hist)
options(scipen=999)
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
lm.fit1 = lm(total_true ~ White + Black + AIAN + Asian + NHPI + `Other race alone` + `Two or more races`, data=hist)
summary(lm.fit1)
lm.fit1 = lm(total_true ~ ., data=hist)
summary(lm.fit1)
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
lm.fit1 = lm(total_true ~ ., data=hist)
summary(lm.fit1)
hist <- readr::read_csv("franklin_reg.csv", show_col_types = FALSE)
summary(hist)
scaled.hist <- as.data.frame(scale(hist))
lm.fit1 = lm(total_true ~ ., data=hist)
lm.fit1 = lm(total_true ~ ., data=scaled.hist)
summary(lm.fit1)
